# æ—¥æœ¬èªæ–‡å­—åŒ–ã‘å¯¾å¿œãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

## ğŸ” ç¾åœ¨ã®çŠ¶æ³

ä¿®æ­£ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’å®Ÿè¡Œæ¸ˆã¿ã ãŒã€æ–‡å­—åŒ–ã‘ãŒå†ç™ºã—ã¦ã„ã‚‹ã¨ã®ã“ã¨ã€‚

## âœ… ç¢ºèªæ¸ˆã¿é …ç›®

1. **ãƒ˜ãƒƒãƒ€ãƒ¼ã‚»ãƒ«ï¼ˆcell-1ï¼‰ã®å†…å®¹** - âœ… æ­£å¸¸
   - `from datetime import datetime, timedelta` âœ…
   - `japanize_matplotlib.japanize()` âœ… å‘¼ã³å‡ºã•ã‚Œã¦ã„ã‚‹
   - ä»£æ›¿ãƒ•ã‚©ãƒ³ãƒˆè¨­å®š âœ… æ­£å¸¸

2. **PyCaretã®è¨­å®š** - âœ… ä¿®æ­£æ¸ˆã¿
   - `data_split_shuffle=False` âœ…
   - `fold_shuffle=False` âœ…

## ğŸš¨ æ–‡å­—åŒ–ã‘ã®åŸå› å€™è£œ

### åŸå› 1: ã‚«ãƒ¼ãƒãƒ«å†èµ·å‹•ã—ã¦ã„ãªã„ï¼ˆæœ€ã‚‚å¯èƒ½æ€§ãŒé«˜ã„ï¼‰

**ç—‡çŠ¶:**
- ãƒ˜ãƒƒãƒ€ãƒ¼ã‚»ãƒ«ã¯æ­£ã—ãè¨­å®šã•ã‚Œã¦ã„ã‚‹
- ã—ã‹ã—ã€Jupyter Notebookã®ã‚«ãƒ¼ãƒãƒ«ãŒå¤ã„çŠ¶æ…‹ã®ã¾ã¾

**å¯¾å‡¦æ³•:**
```
Jupyter Lab ãƒ¡ãƒ‹ãƒ¥ãƒ¼ â†’ Kernel â†’ Restart Kernel and Run All Cells...
```

### åŸå› 2: japanize_matplotlibãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ãªã„

**ç¢ºèªæ–¹æ³•:**
```bash
pip list | grep japanize
```

**ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ–¹æ³•:**
```bash
pip install japanize-matplotlib
```

### åŸå› 3: ã‚»ãƒ«ã‚’å€‹åˆ¥å®Ÿè¡Œã—ã¦ã„ã‚‹

**ç—‡çŠ¶:**
- ãƒ˜ãƒƒãƒ€ãƒ¼ã‚»ãƒ«ï¼ˆcell-1ï¼‰ã‚’å®Ÿè¡Œã›ãšã«ã€ã‚°ãƒ©ãƒ•æç”»ã‚»ãƒ«ï¼ˆcell-7ãªã©ï¼‰ã ã‘ã‚’å®Ÿè¡Œ

**å¯¾å‡¦æ³•:**
- å¿…ãšä¸Šã‹ã‚‰é †ç•ªã«å…¨ã‚»ãƒ«å®Ÿè¡Œ
- ã¾ãŸã¯ã€ŒRestart Kernel and Run All Cellsã€ã‚’ä½¿ç”¨

## ğŸ“‹ æ¨å¥¨å®Ÿè¡Œæ‰‹é †

### ã‚¹ãƒ†ãƒƒãƒ—1: Jupyter Labã‚’é–‹ã
```bash
cd /mnt/d/github/pycaret/work
jupyter lab
```

### ã‚¹ãƒ†ãƒƒãƒ—2: Phase 1ãƒãƒ¼ãƒˆãƒ–ãƒƒã‚¯ã‚’é–‹ã
`åº—èˆ—åˆ¥åŒ…æ‹¬ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰_v5.0_Phase1.ipynb`ã‚’é–‹ã

### ã‚¹ãƒ†ãƒƒãƒ—3: ã‚«ãƒ¼ãƒãƒ«å†èµ·å‹•ï¼‹å…¨ã‚»ãƒ«å®Ÿè¡Œ
ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‹ã‚‰: **Kernel** â†’ **Restart Kernel and Run All Cells...**

### ã‚¹ãƒ†ãƒƒãƒ—4: å®Ÿè¡Œçµæœã‚’ç¢ºèª

**æ­£å¸¸ãªå ´åˆ:**
```
âœ… æ—¥æœ¬èªè¡¨ç¤º: japanize_matplotlib
âœ… ç’°å¢ƒè¨­å®šå®Œäº†
âœ… ãƒ‡ãƒ¼ã‚¿èª­ã¿è¾¼ã¿å®Œäº†
...
```

**ãƒ˜ãƒƒãƒ€ãƒ¼ã‚»ãƒ«ã§ä»¥ä¸‹ãŒè¡¨ç¤ºã•ã‚ŒãŸã‹ç¢ºèª:**
- âœ… `japanize_matplotlib.japanize()` ãŒå®Ÿè¡Œã•ã‚ŒãŸ
- âœ… `âœ… æ—¥æœ¬èªè¡¨ç¤º: japanize_matplotlib` ãŒè¡¨ç¤ºã•ã‚ŒãŸ

### ã‚¹ãƒ†ãƒƒãƒ—5: ã‚°ãƒ©ãƒ•ã‚’ç¢ºèª

ã‚»ãƒ«7ï¼ˆã‚¨ã‚°ã‚¼ã‚¯ãƒ†ã‚£ãƒ–ã‚µãƒãƒªãƒ¼ã‚°ãƒ©ãƒ•ï¼‰ã§ã€ä»¥ä¸‹ã‚’ç¢ºèª:
- `plt.suptitle(f'Executive Summary - {MY_STORE}', ...)` ã®ã‚¿ã‚¤ãƒˆãƒ«
- `{MY_STORE}` ã®éƒ¨åˆ†ï¼ˆåº—èˆ—åï¼‰ãŒæ—¥æœ¬èªã§æ­£ã—ãè¡¨ç¤ºã•ã‚Œã¦ã„ã‚‹ã‹

## ğŸ”§ ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### å•é¡Œ: ä¾ç„¶ã¨ã—ã¦æ–‡å­—åŒ–ã‘ã™ã‚‹

#### ç¢ºèª1: japanize_matplotlibã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³
```bash
pip show japanize-matplotlib
```

æœ€æ–°ç‰ˆã«ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆ:
```bash
pip install --upgrade japanize-matplotlib
```

#### ç¢ºèª2: matplotlibã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³
```bash
pip show matplotlib
```

äº’æ›æ€§ã®ã‚ã‚‹çµ„ã¿åˆã‚ã›:
- matplotlib 3.5.x + japanize-matplotlib 1.1.x
- matplotlib 3.6.x + japanize-matplotlib 1.1.x
- matplotlib 3.7.x + japanize-matplotlib 1.1.x

#### ç¢ºèª3: ãƒ•ã‚©ãƒ³ãƒˆã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’ã‚¯ãƒªã‚¢
```python
# Jupyterãƒãƒ¼ãƒˆãƒ–ãƒƒã‚¯ã®æ–°ã—ã„ã‚»ãƒ«ã§å®Ÿè¡Œ
import matplotlib as mpl
import matplotlib.font_manager as fm

# ãƒ•ã‚©ãƒ³ãƒˆã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’ã‚¯ãƒªã‚¢
fm._load_fontmanager(try_read_cache=False)

# æ—¥æœ¬èªãƒ•ã‚©ãƒ³ãƒˆã‚’ç¢ºèª
japanese_fonts = [f.name for f in fm.fontManager.ttflist if 'Gothic' in f.name or 'Noto Sans CJK' in f.name]
print("åˆ©ç”¨å¯èƒ½ãªæ—¥æœ¬èªãƒ•ã‚©ãƒ³ãƒˆ:", japanese_fonts)
```

#### ç¢ºèª4: ãƒ˜ãƒƒãƒ€ãƒ¼ã‚»ãƒ«ã‚’æ‰‹å‹•ã§å†å®Ÿè¡Œ

1. Jupyter Labã§ cell-1ï¼ˆãƒ˜ãƒƒãƒ€ãƒ¼ã‚»ãƒ«ï¼‰ã‚’é¸æŠ
2. Shift + Enter ã§å®Ÿè¡Œ
3. ä»¥ä¸‹ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã“ã¨ã‚’ç¢ºèª:
   ```
   âœ… æ—¥æœ¬èªè¡¨ç¤º: japanize_matplotlib
   ```

### å•é¡Œ: ç‰¹å®šã®ã‚°ãƒ©ãƒ•ã ã‘æ–‡å­—åŒ–ã‘ã™ã‚‹

#### ã‚»ãƒ«7ï¼ˆã‚¨ã‚°ã‚¼ã‚¯ãƒ†ã‚£ãƒ–ã‚µãƒãƒªãƒ¼ï¼‰ã®å ´åˆ

**ç¢ºèªç®‡æ‰€:**
```python
plt.suptitle(f'Executive Summary - {MY_STORE}', fontsize=18, y=0.98)
```

`{MY_STORE}`å¤‰æ•°ã«æ—¥æœ¬èªã®åº—èˆ—åãŒå…¥ã£ã¦ã„ã‚‹ã‹ç¢ºèª:
```python
# æ–°ã—ã„ã‚»ãƒ«ã§ç¢ºèª
print(f"åº—èˆ—å: {MY_STORE}")
print(f"åº—èˆ—åã®å‹: {type(MY_STORE)}")
```

## ğŸ¯ æœ€çµ‚ç¢ºèªãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

- [ ] `pip list | grep japanize` ã§japanize-matplotlibãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ¸ˆã¿
- [ ] Jupyter Labã§ãƒãƒ¼ãƒˆãƒ–ãƒƒã‚¯ã‚’é–‹ã„ãŸ
- [ ] **Kernel â†’ Restart Kernel and Run All Cells...** ã‚’å®Ÿè¡Œã—ãŸ
- [ ] cell-1ã§ `âœ… æ—¥æœ¬èªè¡¨ç¤º: japanize_matplotlib` ãŒè¡¨ç¤ºã•ã‚ŒãŸ
- [ ] cell-7ã®ã‚°ãƒ©ãƒ•ã‚¿ã‚¤ãƒˆãƒ«ã§åº—èˆ—åãŒæ­£ã—ãè¡¨ç¤ºã•ã‚ŒãŸ
- [ ] ä»–ã®ã‚°ãƒ©ãƒ•ï¼ˆcell-13, cell-15ï¼‰ã§ã‚‚æ—¥æœ¬èªãŒæ­£ã—ãè¡¨ç¤ºã•ã‚ŒãŸ

## ğŸ“ ãã‚Œã§ã‚‚è§£æ±ºã—ãªã„å ´åˆ

### ãƒ‡ãƒãƒƒã‚°ç”¨ã‚»ãƒ«ã‚’è¿½åŠ 

ãƒãƒ¼ãƒˆãƒ–ãƒƒã‚¯ã®æœ€å¾Œã«ä»¥ä¸‹ã®ã‚»ãƒ«ã‚’è¿½åŠ ã—ã¦å®Ÿè¡Œ:

```python
# ãƒ‡ãƒãƒƒã‚°æƒ…å ±
import matplotlib.pyplot as plt
import matplotlib.font_manager as fm

print("="*80)
print("æ—¥æœ¬èªãƒ•ã‚©ãƒ³ãƒˆè¨­å®šãƒ‡ãƒãƒƒã‚°æƒ…å ±")
print("="*80)

# 1. ç¾åœ¨ã®ãƒ•ã‚©ãƒ³ãƒˆè¨­å®š
print(f"\nç¾åœ¨ã®ãƒ•ã‚©ãƒ³ãƒˆãƒ•ã‚¡ãƒŸãƒªãƒ¼: {plt.rcParams['font.family']}")
print(f"unicode_minusè¨­å®š: {plt.rcParams['axes.unicode_minus']}")

# 2. japanize_matplotlibã®çŠ¶æ…‹
try:
    import japanize_matplotlib
    print(f"\njapanize_matplotlib: ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ¸ˆã¿")
    print(f"ãƒãƒ¼ã‚¸ãƒ§ãƒ³: {japanize_matplotlib.__version__ if hasattr(japanize_matplotlib, '__version__') else 'ä¸æ˜'}")
except ImportError:
    print(f"\njapanize_matplotlib: æœªã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« âŒ")

# 3. åˆ©ç”¨å¯èƒ½ãªæ—¥æœ¬èªãƒ•ã‚©ãƒ³ãƒˆ
japanese_fonts = [f.name for f in fm.fontManager.ttflist
                  if 'Gothic' in f.name or 'Noto Sans CJK' in f.name or 'IPA' in f.name]
print(f"\nåˆ©ç”¨å¯èƒ½ãªæ—¥æœ¬èªãƒ•ã‚©ãƒ³ãƒˆ ({len(japanese_fonts)}å€‹):")
for font in japanese_fonts[:10]:
    print(f"  â€¢ {font}")

# 4. ãƒ†ã‚¹ãƒˆæç”»
fig, ax = plt.subplots(figsize=(8, 4))
test_text = f"ãƒ†ã‚¹ãƒˆ: {MY_STORE}"
ax.text(0.5, 0.5, test_text, fontsize=20, ha='center', va='center')
ax.set_title("æ—¥æœ¬èªè¡¨ç¤ºãƒ†ã‚¹ãƒˆ", fontsize=16)
ax.axis('off')
plt.tight_layout()
plt.show()

print(f"\nâœ… ãƒ†ã‚¹ãƒˆæç”»å®Œäº†ã€‚ä¸Šã®ã‚°ãƒ©ãƒ•ã§ '{test_text}' ãŒæ­£ã—ãè¡¨ç¤ºã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèªã—ã¦ãã ã•ã„ã€‚")
```

ã“ã®ãƒ‡ãƒãƒƒã‚°æƒ…å ±ã‚’ã‚‚ã¨ã«ã€ã•ã‚‰ã«è©³ç´°ãªå¯¾å¿œãŒå¯èƒ½ã§ã™ã€‚

---

**æœ€çµ‚æ›´æ–°:** 2025å¹´10æœˆ9æ—¥ 05:10
