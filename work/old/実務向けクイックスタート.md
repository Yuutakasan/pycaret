# 🚀 実務向けクイックスタートガイド

## 📋 このダッシュボードで出来ること

### Phase 1: 毎日の基本業務（所要時間: 5-10分）
- ✅ 昨日の売上実績を1画面で確認
- ✅ 明日の売上を予測して発注量を計算
- ✅ 天気予報を見て発注を調整
- ✅ 客数・客単価から売上変動の原因を特定
- ✅ 他店と比較して自店の位置を把握

### Phase 2: 問題の早期発見（所要時間: 10-15分）
- ✅ 異常な売上変動を5つのアルゴリズムで検知
- ✅ 在庫回転率を計算して発注量を最適化
- ✅ 前年との詳細比較で改善ポイントを発見
- ✅ 連休・給料日などイベントの影響を定量化
- ✅ すべての施策を影響度×実現性で優先順位付け

### Phase 3: AI/機械学習で深掘り（所要時間: 週1回、30分）
- ✅ AIが重要な特徴量を自動選択
- ✅ 統計的に有意な成長商品・衰退商品を検出
- ✅ 欠品による機会損失を年間で定量化
- ✅ トップ店舗の成功要因を自動分析
- ✅ 商品間の関連性を発見してクロスセル提案

### Phase 4: 戦略立案と意思決定（所要時間: 週1回、30分）
- ✅ 時間帯別の需要パターンからスタッフ配置を最適化
- ✅ プロモーションのROIを定量測定
- ✅ 施策を実行する前にWhat-ifで効果を予測
- ✅ レジPOS連携でクロスセル提案を自動化
- ✅ スマホでどこからでもダッシュボードにアクセス

---

## ⚡ 3分で始める

### Step 1: 環境準備（初回のみ）

```bash
# 必須ライブラリ
pip install pandas numpy matplotlib seaborn scipy scikit-learn

# 日本語表示用
pip install japanize-matplotlib

# 店舗選択ウィジェット用
pip install ipywidgets
jupyter nbextension enable --py widgetsnbextension

# Phase 1の需要予測用（オプション）
pip install pycaret

# Phase 3のバスケット分析用（オプション）
pip install mlxtend networkx

# Phase 4の統計分析用（オプション）
pip install statsmodels
```

### Step 2: データ準備

```bash
cd /path/to/pycaret/work

# Excel→CSV変換
python batch_convert.py --input-dir input --output-dir output --debug

# 特徴量付与
python enrich_features_v2.py --input output/06_*.csv --output output/06_final_enriched_$(date +%Y%m%d).csv
```

### Step 3: ダッシュボード起動

```bash
# Jupyter Notebook起動
jupyter notebook

# ブラウザで開く:
# - 店舗別包括ダッシュボード_v5.0_Phase1.ipynb （毎日使う）
# - 店舗別包括ダッシュボード_v5.0_Phase2.ipynb （毎日使う）
# - 店舗別包括ダッシュボード_v5.0_Phase3.ipynb （週1回）
# - 店舗別包括ダッシュボード_v5.0_Phase4.ipynb （週1回）
```

---

## 📊 実務での使い方（具体例）

### シーン1: 毎朝の売上確認（Phase 1）

**状況:** 店長が出勤後、まず昨日の実績をチェック

1. Phase 1のノートブックを開く
2. 「Restart & Run All」をクリック
3. エグゼクティブサマリーで確認：
   - 昨日の売上: ¥250,000 ✅ 目標比102%
   - 前年比: +5.2% ✅ 好調
   - 客単価: ¥520 ⚠️ 平均より-3%
   - アラート: **客単価低下中**

**アクション:**
- 客単価低下が問題 → セット販売を強化
- レジスタッフに「おにぎり+お茶」の併売を指示
- POPを「セットで¥50引き」に変更

**所要時間:** 2分

---

### シーン2: 明日の発注計画（Phase 1）

**状況:** 午前中に明日の発注量を決める

1. Phase 1の需要予測セクションを確認
2. 明日の予測売上: ¥260,000（今日比+4%)
3. 気象予報: 明日は雨、気温20℃
4. 気象連動アドバイザー:
   - ☔ 雨予報 → カップ麺 +20%
   - ☔ 雨予報 → 傘 +30%
   - 🌡️ 平均気温 → 特別対応なし

**アクション:**
- カップ麺の発注を通常50個 → 60個に増量
- 傘を追加発注（在庫10本 → 20本）

**所要時間:** 5分

---

### シーン3: 週次の改善ポイント発見（Phase 2 + 3）

**状況:** 金曜日の午後、今週の振り返りと来週の改善策検討

1. Phase 2の異常検知で問題商品を確認:
   - 商品A: 3日連続で異常低下 🔴
   - 商品B: 在庫回転率0.8 ⚠️ 発注過多

2. Phase 3のトレンド検知:
   - 商品C: CAGR +45% 📈 超高成長
   - 商品D: CAGR -30% 📉 衰退中

3. Phase 3のベストプラクティス:
   - トップ店舗が商品Eで好調
   - 自店は商品Eが弱い（比率65%）

**アクション:**
- 商品A: 欠品疑い → 発注量を+50%に即時変更
- 商品B: 発注量を-30%に削減、見切り販売も検討
- 商品C: フェイス数を2倍、エンド陳列で更に強化
- 商品D: SKU削減を検討、代替商品に切替
- 商品E: トップ店を視察、陳列方法を真似る

**所要時間:** 15分

---

### シーン4: プロモーション効果の検証（Phase 4）

**状況:** 先週実施した「夏祭りキャンペーン」の効果を測定

1. Phase 4のプロモーション効果測定を実行
2. 結果:
   - プロモ期間平均: ¥280,000/日
   - Before期間平均: ¥240,000/日
   - リフト率: +16.7% ✅
   - 統計的有意性: p=0.023 ✅ 有意
   - ROI: +85% ✅ 成功

**アクション:**
- このキャンペーンは成功 → 来月も実施
- 特に売れた商品を分析 → 次回は更に強化
- コスト構造を見直し → ROIを100%超えに改善

**所要時間:** 10分

---

### シーン5: 新施策の事前評価（Phase 4）

**状況:** 「全商品5%値下げ」を検討中、実施前に効果を予測

1. Phase 4のWhat-ifシミュレーションを実行
2. シナリオ「全商品5%値下げ」:
   - 予測売上変化: +¥180,000/月
   - 投資額: ¥375,000/月（値下げ分）
   - 純利益: -¥141,000/月 ❌
   - ROI: -37.6% ❌

3. 別シナリオ「人気商品10%値下げ」:
   - 予測売上変化: +¥240,000/月
   - 投資額: ¥135,000/月
   - 純利益: +¥31,000/月 ✅
   - ROI: +23.0% ✅

**アクション:**
- 全商品5%値下げは**実施しない**（赤字）
- 人気商品10%値下げを**実施する**（黒字）
- 対象商品を精査してから実行

**所要時間:** 15分

---

## 💡 実務Tips

### Tip 1: 毎日のルーティン化

**朝のチェックリスト（10分）:**
- [ ] Phase 1エグゼクティブサマリー確認
- [ ] アラートがあれば即座に対応
- [ ] 需要予測で今日の見込みを把握
- [ ] 明日の発注計画を立案

**午後のチェックリスト（5分）:**
- [ ] Phase 2異常検知で在庫状況確認
- [ ] 客数・客単価で今日の傾向分析
- [ ] 必要に応じて追加発注

**週末のチェックリスト（30分）:**
- [ ] Phase 3で週次の深掘り分析
- [ ] トレンド検知で成長/衰退商品を確認
- [ ] ベストプラクティスでトップ店に学ぶ
- [ ] Phase 4で来週の戦略立案

### Tip 2: 複数店舗の管理

**店舗選択ウィジェットを活用:**
1. Phase 1-4で店舗Aを選択
2. 分析結果をPDF保存
3. 店舗Bに切り替えて同様に分析
4. 全店舗の結果を並べて比較

**一括レポート生成:**
```python
# 全店舗のサマリーを自動生成
for store in stores:
    my_df = df_enriched[df_enriched['店舗'] == store]
    # 分析実行
    # PDF保存
```

### Tip 3: データの鮮度を保つ

**自動更新スクリプト:**
```bash
#!/bin/bash
# daily_update.sh

cd /path/to/pycaret/work

# 最新データをエクスポート（POSシステムから）
# ...

# データ変換・エンリッチ
python batch_convert.py --input-dir input --output-dir output
python enrich_features_v2.py --input output/06_*.csv

echo "データ更新完了: $(date)"
```

**cronで毎日実行:**
```cron
0 5 * * * /path/to/daily_update.sh >> /var/log/dashboard_update.log 2>&1
```

### Tip 4: 結果の共有

**本部への週次レポート:**
```python
# グラフを画像保存
plt.savefig('output/weekly_sales_trend.png', dpi=150, bbox_inches='tight')

# PowerPointに貼り付けて報告
```

**店舗スタッフへの共有:**
- エグゼクティブサマリーをA4印刷
- バックヤードに掲示
- 全員が目標と現状を把握

### Tip 5: トラブル時の対処

**売上が急に下がった:**
1. Phase 2の異常検知で原因商品を特定
2. Phase 1の客数・客単価分解で要因分析
3. Phase 3の欠品検知で在庫問題をチェック
4. 即座に対策を実行

**プロモーションが不発:**
1. Phase 4のプロモーション効果測定で定量評価
2. 統計的有意性を確認（p値）
3. ROIを計算して判断
4. 改善点を洗い出して次回に活かす

---

## 📚 さらに詳しく

### 各Phase の詳細マニュアル

- `Phase_1_4_日本語対応ガイド.md` - 環境設定と日本語表示
- `docs/dashboard/phase1_implementation_summary.md` - Phase 1詳細
- `docs/dashboard/phase2_implementation_summary.md` - Phase 2詳細
- `docs/dashboard/phase3_implementation_summary.md` - Phase 3詳細
- `docs/dashboard/phase4_implementation_summary.md` - Phase 4詳細（作成予定）

### サンプルデータで練習

```bash
# サンプルデータをダウンロード
curl -O https://example.com/sample_data.csv

# 分析を実行
jupyter notebook
```

---

## 🎯 成功事例（想定）

### ケース1: A店舗（郊外型コンビニ）

**Before:**
- 月間売上: ¥7,500,000
- 廃棄ロス: ¥180,000（2.4%）
- 欠品率: 15%

**After（Phase 1-4導入3ヶ月後）:**
- 月間売上: ¥8,250,000（+10%）
- 廃棄ロス: ¥120,000（1.5%、-33%）
- 欠品率: 8%（-47%）

**効果額:** +¥690,000/月（+¥8,280,000/年）

**成功要因:**
- 需要予測で発注精度が向上
- 異常検知で廃棄を削減
- 欠品検知で機会損失を半減

### ケース2: B店舗（駅前型コンビニ）

**Before:**
- 月間売上: ¥12,000,000
- 客単価: ¥480
- 時間帯別スタッフ配置: 一律

**After（Phase 1-4導入2ヶ月後）:**
- 月間売上: ¥13,200,000（+10%）
- 客単価: ¥530（+10%）
- 時間帯別最適配置

**効果額:** +¥1,200,000/月（+¥14,400,000/年）

**成功要因:**
- クロスセル提案で客単価向上
- 時間帯分析でスタッフ配置最適化
- ベストプラクティスで他店の成功施策を導入

---

## 🚀 まとめ

このダッシュボードを使えば：

✅ **データに基づいた意思決定**ができる
✅ **問題を早期に発見**して対処できる
✅ **AIで売上を最大化**できる
✅ **実行前に効果を予測**してリスクを回避できる

**あなたの店舗を、データで、科学で、最強に！** 🎉

---

## 📞 サポート

質問・要望があれば、GitHubのIssuesでお気軽にどうぞ：
https://github.com/yourusername/pycaret/issues
